(function(t){function e(e){for(var n,i,o=e[0],l=e[1],c=e[2],v=0,d=[];v<o.length;v++)i=o[v],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(d.length)d.shift()();return r.push.apply(r,c||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],n=!0,o=1;o<s.length;o++){var l=s[o];0!==a[l]&&(n=!1)}n&&(r.splice(e--,1),t=i(i.s=s[0]))}return t}var n={},a={app:0},r=[];function i(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=n,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var n=s("8a23"),a=s.n(n);a.a},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var n=s("2b0e"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",{attrs:{id:"inspire"}},[s("v-navigation-drawer",{attrs:{app:"",right:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[s("v-list",[s("v-list-item",[t._v(" История: ")]),t.games.length?t._e():s("v-list-item",[t._v(" Нет ни одной игры для отображения. ")]),t._l(t.games,(function(e){return s("v-list-group",{key:e.id,attrs:{value:e.id==t.games.length,"prepend-icon":"mdi-gamepad","append-icon":""},scopedSlots:t._u([{key:"activator",fn:function(){return[s("v-list-item-content",[s("v-list-item-title",[t._v(" Игра "+t._s(e.id)+" ")])],1)]},proxy:!0}],null,!0)},[e.turns.length?t._e():s("v-list-item",[s("v-list-item-content",[t._v(" Не сделано ни одного хода. ")])],1),t._l(e.turns,(function(e){return s("v-list-item",{key:e.turn},[s("v-list-item-content",{staticClass:"py-2"},[s("v-list-item-title",[s("b",[t._v(" Ход "+t._s(e.turn)+" ")]),t._v(" - "+t._s(e.date)+" ")]),t._v(" Попытка: "+t._s(e.text)+", Б: "+t._s(e.bulls||0)+", К: "+t._s(e.cows||0)+" "+t._s(e.win?"\nПОБЕДА!":"")+" "+t._s(e.lose?"\nПОРАЖЕНИЕ...":"")+" ")],1)],1)}))],2)}))],2)],1),s("v-app-bar",{attrs:{app:"",dark:""}},[s("v-toolbar",[s("v-spacer"),s("v-toolbar-title",[s("v-spacer"),s("v-icon",{attrs:{left:""}},[t._v("mdi-gamepad-variant-outline")]),t._v(" Игра Быки и Коровы ")],1),s("v-spacer")],1),s("v-btn",{attrs:{fixed:"",right:"",icon:""},on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}},[s("v-icon",{attrs:{center:""}},[t._v("mdi-history")])],1)],1),s("v-main",[s("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[t.games.length&&t.games[t.games.length-1].turns.length&&t.isPlaying?s("v-row",{staticClass:"result text-center"},[s("v-spacer"),s("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"2",sm:"2"}},[s("v-icon",{attrs:{left:""}},[t._v("mdi-strategy")]),s("p",[t._v("Ходов осталось: "+t._s(10-t.games[t.games.length-1].turns.length)+" ")])],1),s("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"2",sm:"2"}},[s("v-icon",{attrs:{left:""}},[t._v("mdi-eye-outline")]),s("p",[t._v("Введено: "+t._s(t.games[t.games.length-1].turns[t.games[t.games.length-1].turns.length-1].text)+" ")])],1),s("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"1",sm:"1"}},[s("v-icon",{attrs:{left:""}},[t._v("mdi-check-all")]),s("p",[t._v("Быки: "+t._s(t.games[t.games.length-1].turns[t.games[t.games.length-1].turns.length-1].bulls)+" ")])],1),s("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"1",sm:"1"}},[s("v-icon",{attrs:{left:""}},[t._v("mdi-cow")]),s("p",[t._v("Коровы: "+t._s(t.games[t.games.length-1].turns[t.games[t.games.length-1].turns.length-1].cows)+" ")])],1),s("v-spacer")],1):t.win||t.lose?s("v-row",{staticClass:"result text-center",attrs:{height:"120px"}},[s("v-col",{attrs:{cols:"12",md:"12"}},[s("h1",[t._v(t._s(t.win?"Победа!":"Поражение..."))])])],1):t.isPlaying?s("v-row",{staticClass:"result text-center"},[s("v-col",{attrs:{cols:"12",md:"12"}},[s("p",[t._v("Началась новая игра.")]),s("p",[t._v("Компьютер загадал число.")])])],1):t._e(),s("v-row",{attrs:{align:"center",justify:"center"}},[s("v-col",{staticClass:"text-center mx-4",attrs:{cols:"12",md:"6"}},[s("game-rules")],1),t.isPlaying?t._e():s("v-col",{staticClass:"text-center mx-4",attrs:{cols:"12",md:"6"}},[s("game-stats")],1),t.isPlaying?t._e():s("v-col",{staticClass:"text-center mx-4",attrs:{cols:"12",md:"6"}},[s("v-btn",{attrs:{large:"",dark:""},on:{click:function(e){return e.stopPropagation(),t.play(e)}}},[s("v-icon",{attrs:{left:""}},[t._v("mdi-nintendo-game-boy")]),t._v(" Начать игру ")],1)],1)],1),t.isPlaying?s("form",{staticClass:"my-form",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[s("v-row",{attrs:{align:"center",justify:"center"}},[s("v-col",{staticClass:"text-center",attrs:{cols:"12",md:"5",sm:"6"}},[s("v-text-field",{ref:"input",staticClass:"game-input",attrs:{height:"50px",hint:"Угадайте 4-значное число","persistent-hint":"",rules:[t.rules.counter,t.rules.unique],label:"Ваша попытка:",color:"green darken-2","hide-details":"auto"},model:{value:t.inputValue,callback:function(e){t.inputValue="string"===typeof e?e.trim():e},expression:"inputValue"}})],1)],1),s("v-row",{attrs:{align:"center",justify:"center"}},[s("v-col",{staticClass:"text-center",attrs:{cols:"6",md:"2"}},[s("v-btn",{staticClass:"green",attrs:{large:"",dark:t.submitable,disabled:!t.submitable},on:{click:function(e){return e.stopPropagation(),t.submit(e)}}},[s("v-icon",{attrs:{left:""}},[t._v("mdi-keyboard-return")]),t._v(" Проверить ")],1)],1)],1)],1):t._e(),t.isPlaying?s("v-row",{attrs:{align:"center",justify:"center"}},[s("v-col",{staticClass:"text-center mx-5",attrs:{cols:"6",md:"2"}},[s("v-btn",{attrs:{large:"",dark:""},on:{click:function(e){return e.stopPropagation(),t.play(e)}}},[s("v-icon",{attrs:{left:""}},[t._v("mdi-reload")]),t._v(" Начать заново ")],1)],1),s("v-col",{staticClass:"text-center mx-5",attrs:{cols:"6",md:"2"}},[s("v-btn",{attrs:{large:"",dark:""},on:{click:function(e){return e.stopPropagation(),t.surrend(e)}}},[s("v-icon",{attrs:{left:""}},[t._v("mdi-anchor")]),t._v(" Сдаться ")],1)],1)],1):t._e()],1)],1),s("v-footer",{attrs:{app:"",dark:""}},[s("v-spacer"),s("span",{staticClass:"white--text"},[t._v("Алексей Схоменко © 2020")]),s("v-spacer")],1)],1)},r=[],i=(s("c975"),s("a434"),s("d3b7"),s("2909")),o=s("5530"),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text-center"},[s("v-dialog",{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,a=e.attrs;return[s("v-btn",t._g(t._b({attrs:{large:"",dark:""}},"v-btn",a,!1),n),[s("v-icon",{attrs:{left:""}},[t._v("mdi-script-text-outline")]),t._v(" Правила игры ")],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-card",[s("v-card-title",{attrs:{"primary-title":""}},[t._v(" Правила игры ")]),s("v-divider"),s("v-card-text",[s("ol",{staticClass:"pt-5 text--primary"},t._l(t.gameRules.length,(function(e){return s("li",{key:e},[t._v(" "+t._s(t.gameRules[e-1])+" ")])})),0)]),s("v-divider"),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{dark:"",width:"200"},on:{click:function(e){t.dialog=!1}}},[t._v(" ОК ")]),s("v-spacer")],1)],1)],1)],1)},c=[],u={data:function(){return{gameRules:["Компьютер загадывает любое четырёхзначное число (цифры не повторяются).","Вы должны угадать загаданное число за 10 попыток.","Если цифра совпала и находится на нужном месте - это бык.","Если цифра совпала, но расположена не на своем месте - это корова."],dialog:!1}}},v=u,d=s("2877"),g=s("6544"),p=s.n(g),h=s("8336"),f=s("b0af"),m=s("99d9"),_=s("169a"),b=s("ce7e"),y=s("132d"),w=s("2fa4"),x=Object(d["a"])(v,l,c,!1,null,null,null),V=x.exports;p()(x,{VBtn:h["a"],VCard:f["a"],VCardActions:m["a"],VCardText:m["b"],VCardTitle:m["c"],VDialog:_["a"],VDivider:b["a"],VIcon:y["a"],VSpacer:w["a"]});var k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text-center"},[s("v-dialog",{attrs:{width:"600"},scopedSlots:t._u([{key:"activator",fn:function(e){e.on;var n=e.attrs;return[s("v-btn",t._b({attrs:{large:"",dark:"",loading:t.loading},on:{click:t.show}},"v-btn",n,!1),[s("v-icon",{attrs:{left:""}},[t._v("mdi-script-text-outline")]),t._v(" Статистика игр ")],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-card",[s("v-card-title",{attrs:{"primary-title":""}},[t._v(" Статистика игр ")]),s("v-divider"),s("v-card-text",[s("ol",{staticClass:"pt-5 text--primary stats"},[t.games.length?t._e():s("p",[t._v("Вы не сыграли ещё ни одной игры.")]),t._l(t.games,(function(e){return s("li",{key:e.id,staticClass:"my-3"},[t._v(" По"+t._s(e.win?"беда":"ражение")+", Загадано: "+t._s(e.secret)+", Дата: "+t._s(e.localStartDate)+". "),s("v-btn",{staticClass:"turns-btn",attrs:{small:"",width:"140"},on:{click:function(t){e.show=!e.show}}},[t._v(" "+t._s(e.show?"Скрыть":"Показать")+" ходы ")]),e.show?s("ol",t._l(e.turns,(function(e){return s("li",{key:e.id},["СДАЛСЯ"===e.text?s("span",[t._v("Игрок сдался")]):s("span",[t._v("Введено: "+t._s(e.text))]),e.bulls?s("span",[t._v(", Быков: "+t._s(e.bulls))]):t._e(),e.cows?s("span",[t._v(", Коров: "+t._s(e.cows))]):t._e(),t._v(". ")])})),0):t._e()],1)}))],2)]),s("v-divider"),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{dark:"",width:"200"},on:{click:function(e){t.dialog=!1}}},[t._v(" ОК ")]),s("v-spacer")],1)],1)],1)],1)},C=[],j=(s("4160"),s("159b"),{data:function(){return{games:[],dialog:!1,loading:!1}},methods:{show:function(){var t=this;this.loading=!0,fetch("http://localhost:8080/logs").then((function(t){return t.json()})).then((function(e){t.games=Object(i["a"])(e),t.games.forEach((function(e){t.$set(e,"show",!1)})),t.dialog=!0,t.loading=!1})).catch((function(t){console.log(t)}))}}}),P=j,O=(s("5a7a"),Object(d["a"])(P,k,C,!1,null,"73484dae",null)),D=O.exports;p()(O,{VBtn:h["a"],VCard:f["a"],VCardActions:m["a"],VCardText:m["b"],VCardTitle:m["c"],VDialog:_["a"],VDivider:b["a"],VIcon:y["a"],VSpacer:w["a"]});var S=s("5a0c"),M={name:"App",components:{"game-rules":V,"game-stats":D},props:{source:String},data:function(){return{drawer:!1,isPlaying:!1,games:[],inputValue:"",formHasErrors:!1,secret:"",win:!1,lose:!1,selectedHistory:void 0,rules:{unique:function(t){for(var e=0;e<t.length-1;e+=1)if(t.indexOf(t[e],e+1)>=0)return"Введите число без повторов!";return!0},counter:function(t){return 4===t.length||"Введите 4-значное число."}}}},computed:{submitable:function(){return this.rules.unique(this.inputValue)+this.rules.counter(this.inputValue)===2}},methods:{play:function(){this.isPlaying&&this.surrend(),this.games.length||(this.drawer=!0),this.isPlaying=!0,this.win=!1,this.lose=!1,this.secret=this.generator(),this.games.push({id:this.games.length+1,turns:[],localStartDate:S().format("DD.MM.YY HH:mm:ss")})},surrend:function(){this.isPlaying&&(this.lose=!0,this.isPlaying=!1,this.games[this.games.length-1].turns.push({turn:this.games[this.games.length-1].turns.length+1,text:"СДАЛСЯ",lose:!0,date:S().format("DD.MM.YY HH:mm:ss")}),this.push_game_log())},submit:function(){var t,e,s;(function(t){setTimeout((function(){t.focus()}),600)})(this.$refs.input);var n=this.games[this.games.length-1],a=n.turns.length+1;this.submitable&&(t=this.check_result(),e=!!t.win,s=!e&&a>=10,n.turns.push(Object(o["a"])(Object(o["a"])({turn:a,text:this.inputValue},t),{},{lose:s,date:S().format("DD.MM.YY HH:mm:ss")})),this.games[this.games.length-1].turns.length>=10&&(this.games[this.games.length-1].win=!1,this.lose=!0,this.isPlaying=!1,this.push_game_log()),this.inputValue="",e&&(this.push_game_log(),this.win=!0,this.isPlaying=!1))},generator:function(){var t,e=Object(i["a"])("0123456789"),s="";while(s.length<4)t=Math.floor(10*Math.random()),s+=e.splice(t,1);return s},check_result:function(){for(var t=0,e=0,s=0;s<this.secret.length;s+=1)this.inputValue[s]===this.secret[s]?t+=1:this.secret.indexOf(this.inputValue[s])>=0&&(e+=1);return console.log("input",this.inputValue,"secret",this.secret),console.log("bulls",t,"cows",e),t===this.secret.length?{win:1,bulls:t}:{bulls:t,cows:e}},push_game_log:function(){var t=Object(o["a"])(Object(o["a"])({secret:this.secret},this.games[this.games.length-1]),{},{localEndDate:S().format("DD.MM.YY HH:mm:ss")});return delete t.id,fetch("http://localhost:8080/logs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(t){return t.json()}))}}},T=M,H=(s("034f"),s("7496")),A=s("40dc"),Y=s("62ad"),E=s("a523"),I=s("553a"),$=s("8860"),B=s("56b0"),L=s("da13"),N=s("5d23"),q=s("f6c4"),F=s("f774"),R=s("0fd9"),J=s("8654"),G=s("71d9"),z=s("2a7f"),K=Object(d["a"])(T,a,r,!1,null,null,null),Q=K.exports;p()(K,{VApp:H["a"],VAppBar:A["a"],VBtn:h["a"],VCol:Y["a"],VContainer:E["a"],VFooter:I["a"],VIcon:y["a"],VList:$["a"],VListGroup:B["a"],VListItem:L["a"],VListItemContent:N["a"],VListItemTitle:N["b"],VMain:q["a"],VNavigationDrawer:F["a"],VRow:R["a"],VSpacer:w["a"],VTextField:J["a"],VToolbar:G["a"],VToolbarTitle:z["a"]});var U=s("9483");Object(U["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var W=s("f309");n["a"].use(W["a"]);var X=new W["a"]({});n["a"].config.productionTip=!1,new n["a"]({vuetify:X,render:function(t){return t(Q)}}).$mount("#app")},"5a7a":function(t,e,s){"use strict";var n=s("aff1"),a=s.n(n);a.a},"8a23":function(t,e,s){},aff1:function(t,e,s){}});
//# sourceMappingURL=app.2f437a7d.js.map